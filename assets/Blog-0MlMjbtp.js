import{r as c,j as e,L as i}from"./index-Dk6t0oes.js";import{S as y}from"./SearchIcon-Vo2-3f1j.js";import S from"./Posts-uBj2izLp.js";function N({posts:d,onSearchResults:l}){const[t,o]=c.useState(""),[h,n]=c.useState(!1),r=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D").toLowerCase(),s=()=>{if(t.trim()===""){n(!1),l([]);return}n(!0);const a=r(t),j=(d||[]).filter(m=>{const g=r(m.title||""),p=r(m.content||""),f=r(m.categoryDisplay||"");return g.includes(a)||p.includes(a)||f.includes(a)});l(j)},u=a=>{a.key==="Enter"&&s()},x=()=>{o(""),n(!1),l([])};return e.jsxs("div",{className:"search-bar",children:[e.jsx("button",{onClick:s,className:"search-btn",children:e.jsx(y,{size:24,fill:"var(--tertiary-color)",stroke:"var(--secondary-color)"})}),e.jsx("input",{type:"text",placeholder:"Bee Search",value:t,onChange:a=>o(a.target.value),onKeyPress:u}),h&&e.jsx("button",{onClick:x,className:"clear-btn",children:"✕"})]})}function z(){const[d,l]=c.useState([]),[t,o]=c.useState([]),[h,n]=c.useState(!1);c.useEffect(()=>{l(S())},[]);const r=s=>{o(s),n(!0)};return e.jsxs("div",{className:"blog-container",children:[e.jsx(N,{posts:d,onSearchResults:r}),e.jsx("div",{className:"posts-list",children:h?e.jsx(e.Fragment,{children:t.length===1?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"results-count",children:[t.length," result found"]}),t.map(s=>e.jsxs("article",{className:"post-card",children:[e.jsx("p",{className:"post-category",children:e.jsx(i,{to:`/${s.categorySlug}`,children:s.categoryDisplay})}),e.jsx("h2",{children:s.title}),e.jsxs("p",{className:"post-date",children:["Date: ",s.date]}),e.jsx("p",{children:s.content}),e.jsx(i,{to:`/${s.slug}`,children:"Read more"})]},s.id))]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"results-count",children:[t.length," results found"]}),t.map(s=>e.jsxs("article",{className:"post-card",children:[e.jsx("p",{className:"post-category",children:e.jsx(i,{to:`/${s.categorySlug}`,children:s.categoryDisplay})}),e.jsx("h2",{children:s.title}),e.jsxs("p",{className:"post-date",children:["Date: ",s.date]}),e.jsx("p",{children:s.content}),e.jsx(i,{to:`/${s.slug}`,children:"Read more"})]},s.id))]})}):e.jsx(e.Fragment,{})})]})}export{z as B};
